<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.12.0/cdn/themes/light.min.css"
    />
    <script type="module" src="/util/js/check2.js"></script>

    <title>Dashboard</title>

    <link rel="stylesheet" href="/style/style.css" />
    <style>
      .pagination {
        display: flex;
        list-style: none;
      }

      .pagination li {
        margin-right: 10px;
        cursor: pointer;
      }

      .active {
        font-weight: bold;
      }

      .submenu {
        display: none;
      }
      .submenu.active {
        display: block;
      }
    </style>
  </head>

  <body>
    <header id="header-dashboard" class="py-1 z-10 bg-pink-300">
      <div class="">
        <div class="w-full px-4">
          <div class="mx-auto mb-1 max-w-xl text-center">
            <h2
              class="py-1"
              style="
                color: black;
                font-size: 30px;
                font-family: Inter;
                font-weight: 600;
                line-height: 48px;
                word-wrap: break-word;
              "
            >
              Dashboard Guru
            </h2>
            <p
              class="py-1"
              style="
                color: black;
                font-size: 20px;
                font-family: Inter;
                font-weight: 600;
                line-height: 32px;
                word-wrap: break-word;
              "
            >
              Data Kuis
            </p>
          </div>
        </div>
      </div>
    </header>

    <div class="w-full flex">
      <div class="sidebar min-h-screen px-1 flex-[1]" id="sidebar">
        <div class="flex justify-end items-end">
          <i class="fa-solid fa-bars cursor-pointer" id="sidebarToggle"></i>
        </div>
        <div class="w-full flex flex-col justify-center items-center">
          <img
            src="../../../assets/image/user.png"
            class="w-1/2 h-auto object-contain"
          />
          <h3 class="px-6 py-4 font-semibold" id="nama-siswa"></h3>
        </div>
        <h2
          class="py-4 text-lg text-center font-bold leading-tight text-slate-950"
          style="font-family: Inter; word-wrap: break-word"
        >
          Daftar Isi
        </h2>

        <div class="p-4">
          <!-- Sidebar Links -->
          <ul class="mt-4">
            <!-- Panel 1 with Toggle -->
            <li class="mb-2">
              <a
                href="./dashboard.html"
                class="py-2 px-4 hover:bg-gray-700 hover:text-white"
                >Data Siswa</a
              >
            </li>
            <li class="mb-2">
              <a
                href="#"
                class="flex items-center py-2 px-4 hover:bg-gray-700 hover:text-white toggle-panel"
              >
                <span class="mr-2">Latihan Siswa</span>
              </a>
              <!-- Submenu for Panel 1 -->
              <ul class="submenu">
                <li>
                  <a
                    href="./berlatih.html"
                    class="flex items-center py-2 px-4 hover:bg-gray-700 hover:text-white"
                  >
                    <span class="mr-2">Ayo Berlatih</span>
                  </a>
                </li>
                <li>
                  <a
                    href="./mengamati.html"
                    class="flex items-center py-2 px-4 hover:bg-gray-700 hover:text-white"
                  >
                    <span class="mr-2">Ayo Mengamati</span>
                  </a>
                </li>
                <li>
                  <a
                    href="./mencoba.html"
                    class="flex items-center py-2 px-4 hover:bg-gray-700 hover:text-white"
                  >
                    <span class="mr-2">Ayo Mencoba</span>
                  </a>
                </li>
              </ul>
            </li>
            <li class="mb-2">
              <a
                href="#"
                class="flex items-center py-2 px-4 hover:bg-gray-700 hover:text-white toggle-panel"
              >
                <span class="mr-2">Lembar Kerja Siswa</span>
              </a>
              <!-- Submenu for Panel 1 -->
              <ul class="submenu">
                <li>
                  <a
                    href="./menalar.html"
                    class="flex items-center py-2 px-4 hover:bg-gray-700 hover:text-white"
                  >
                    <span class="mr-2">Ayo Menalar</span>
                  </a>
                </li>
              </ul>
            </li>
            <li class="mb-2">
              <a
                href="#"
                class="flex items-center py-2 px-4 hover:bg-gray-700 hover:text-white toggle-panel"
              >
                <span class="mr-2">Hasil Belajar</span>
              </a>
              <!-- Submenu for Panel 1 -->
              <ul class="submenu">
                <li>
                  <a
                    href="./kuis.html"
                    class="flex items-center py-2 px-4 hover:bg-gray-700 hover:text-white"
                  >
                    <span class="mr-2">Kuis</span>
                  </a>
                </li>
                <li>
                  <a
                    href="./evaluasi.html"
                    class="flex items-center py-2 px-4 hover:bg-gray-700 hover:text-white"
                  >
                    <span class="mr-2">Evaluasi</span>
                  </a>
                </li>
              </ul>
            </li>

            <!-- Add more sidebar links as needed -->
            <li>
              <a
                href="./kkm.html"
                class="py-2 px-4 hover:bg-gray-700 hover:text-white"
                >Atur KKM</a
              >
            </li>
          </ul>
        </div>
        <a href="../../../auth/login.html" class="mt-3">Exit</a>
      </div>
      <div class="tab-guru px-1 flex-[2]">
        <div class="main-content">
          <div class="cursor-pointer hidden" id="sidebarToggleMain">
            <i class="fa-solid fa-bars"></i>
          </div>
          <div class="mb-4">
            <label
              for="babFilter"
              class="block text-gray-700 text-sm font-bold mb-2"
              >Bab:</label
            >
            <select
              id="babFilter"
              class="w-full px-3 py-2 border rounded-md text-gray-700 focus:outline-none focus:border-blue-500"
            >
              <option value="">All Bab</option>
              <option value="Bab 1">Bab 1</option>
              <option value="Bab 2">Bab 2</option>
              <!-- Add options dynamically based on your data -->
            </select>
          </div>

          <div>
            <label
              for="subFilter"
              class="block text-gray-700 text-sm font-bold mb-2"
              >Sub:</label
            >
            <select
              id="subFilter"
              class="w-full px-3 py-2 border rounded-md text-gray-700 focus:outline-none focus:border-blue-500"
            >
              <option value="">All Sub</option>
              <option value="Kuis 1">Kuis 1</option>
              <option value="Kuis 2">Kuis 2</option>
              <!-- <option value="Ayo Mengamati 2">Ayo Mengamati 2</option> -->
              <!-- Add options dynamically based on your data -->
            </select>
          </div>
          <table style="width: 100%" class="data_kuis">
            <thead>
              <tr>
                <th>No</th>
                <th>Nama</th>
                <th>NISN</th>
                <th>Sekolah</th>
                <th>Skor</th>
                <th>Hari</th>
                <th>Waktu</th>
                <th>Aksi</th>
              </tr>
            </thead>
            <tbody id="data-container"></tbody>
          </table>

          <ul id="pagination" class="pagination"></ul>
          <button id="prevPage">Previous</button>
          <button id="nextPage">Next</button>
        </div>
        <button id="downloadExcelBtn">Download Excel</button>
      </div>
    </div>

    <script type="module" src="/util/js/getUserName.js"></script>
    <script type="module" src="/util/js/db.js"></script>
    <script type="module" src="./kuis.js"></script>
    <!-- Script for shoelace style -->
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.12.0/cdn/components/tree/tree.js"
    ></script>
    <script
      defer
      type="module"
      src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.12.0/cdn/shoelace-autoloader.js"
    ></script>
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.12.0/cdn/components/tab-group/tab-group.js"
    ></script>
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.12.0/cdn/components/card/card.js"
    ></script>
    <!-- Add this in the <head> section of your HTML file -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.3/xlsx.full.min.js"></script>

    <!-- End Script for Shoelace style -->

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Get all elements with the class 'toggle-panel'
        const togglePanels = document.querySelectorAll(".toggle-panel");

        // Add click event listener to each 'toggle-panel'
        togglePanels.forEach(function (panel) {
          panel.addEventListener("click", function () {
            // Toggle the 'active' class on the next sibling (submenu)
            const submenu = panel.nextElementSibling;
            submenu.classList.toggle("active");
          });
        });
      });
    </script>
    <script>
      let sidebar = document.getElementById("sidebar");
      let sidebarToggle = document.getElementById("sidebarToggle");
      let sidebarToggleMain = document.getElementById("sidebarToggleMain");

      // Check if the sidebar element is successfully retrieved
      if (sidebar && sidebarToggle && sidebarToggleMain) {
        console.log("Sidebar element found:", sidebar);

        let hidden = false;

        function hideSidebar() {
          if (hidden === true) {
            sidebar.classList.remove("hidden");
            sidebarToggleMain.classList.add("hidden"); // Hide the main toggle button
            sidebarToggle.classList.remove("hidden");
            hidden = false;
          } else {
            sidebar.classList.add("hidden");
            sidebarToggleMain.classList.remove("hidden"); // Show the main toggle button
            sidebarToggle.classList.remove("hidden");
            hidden = true;
          }
        }

        // Attach click event listener to the sidebar toggle buttons
        sidebarToggle.addEventListener("click", hideSidebar);
        sidebarToggleMain.addEventListener("click", hideSidebar);
      } else {
        console.log("Sidebar element or toggle buttons not found.");
      }
    </script>
  </body>
</html>
